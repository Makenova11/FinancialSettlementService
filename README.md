# FinancialSettlementService
Сервис для проведение операций по зачислению и списанию средств у клиента. Можно создать клиента, посмотреть его баланс, снять и зачислить средства на счёт.
Проект создан для демонстрации оформления кода и самой логики при работе на .Net  

*Подробности:*
На таблицу с данными баланса навешан constraint, который ограничивает значение баланса только положительным значением, либо 0. 

В контроллере, в случае списания средств выше, чем размер баланса из-за ограничения выкидывает postgreexception, где его удается профильтровать, откатить транзакцию и отправить пользователю сообщение о том, что средств недостаточно. 

Уровень изоляции - read uncomitted, по умолчанию.  Повышать уровень не стала, поскольку при старте транзакции PostgreSql навешивает монопольную блокировку и не позволяет другим транзакциям начать своё выполнение.

На этот проект позже были написаны интеграционные тесты, находящиеся в этом репозитории https://github.com/Makenova11/FinancialService
